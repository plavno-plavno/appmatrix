!function($){"use strict";var webfonts=_ideo.webfonts;if($("#google-fonts").length){var inputGoogleFonts=$("#google-fonts"),inputGoogleFontsValue=inputGoogleFonts.val().split("|"),selectFontFamily=$("#font-family"),selectFontWeight=$("#font-weight"),selectSubsets=$("#font-subsets"),selectPreview=$("#font-preview"),getFont=function(family){return _.find(webfonts.items,function(font){return font.family==family})},setFont=function(){inputGoogleFonts.val(selectFontFamily.val()+"|"+selectFontWeight.val()+"|"+selectSubsets.val()),selectPreview.css({fontFamily:selectFontFamily.val(),fontWeight:selectFontWeight.val().replace("italic",""),fontStyle:-1<selectFontWeight.val().indexOf("italic")?"italic":""}),$("head").append("<link />"),$("head").children(":last").attr({rel:"stylesheet",type:"text/css",href:"//fonts.googleapis.com/css?family="+selectFontFamily.val()+":"+selectFontWeight.val()+"&subset="+(selectSubsets.val()||"")})};for(var i in webfonts.items)$("<option/>",{html:webfonts.items[i].family}).appendTo(selectFontFamily);if(3==inputGoogleFontsValue.length){selectFontFamily.val(inputGoogleFontsValue[0]);var font=getFont(inputGoogleFontsValue[0]);for(var i in selectFontWeight.html(""),font.variants)$("<option/>",{html:font.variants[i]}).appendTo(selectFontWeight);for(var i in selectFontWeight.val(inputGoogleFontsValue[1]),selectSubsets.html(""),font.subsets)$("<option/>",{html:font.subsets[i]}).appendTo(selectSubsets);selectSubsets.val(inputGoogleFontsValue[2].split(",")),setFont()}selectFontFamily.on("change",function(){var font=getFont($(this).val());for(var i in selectFontWeight.html(""),font.variants)$("<option/>",{html:font.variants[i]}).appendTo(selectFontWeight);for(var i in selectSubsets.html(""),font.subsets)$("<option/>",{html:font.subsets[i]}).appendTo(selectSubsets);setFont()}),selectFontWeight.on("change",function(){setFont()}),selectSubsets.on("change",function(){setFont()})}}(window.jQuery);