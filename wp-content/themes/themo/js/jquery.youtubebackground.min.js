"function"!=typeof Object.create&&(Object.create=function(obj){function F(){}return F.prototype=obj,new F}),function($,window,document){"use strict";var iframeIsReady=function(callback){"undefined"==typeof YT&&void 0===window.loadingPlayer?(window.loadingPlayer=!0,window.dfd=$.Deferred(),window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null,window.dfd.resolve("done"),callback()}):"object"==typeof YT?callback():window.dfd.done(function(name){callback()})},YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:$(window).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"transparent",branding:0,rel:0,autohide:0},events:null},init:function(node,userOptions){var callback,tag,head,self=this;return self.userOptions=userOptions,self.$body=$("body"),self.$node=$(node),self.$window=$(window),self.defaults.events={onReady:function(e){self.onPlayerReady(e),self.options.pauseOnScroll&&self.pauseOnScroll(),"function"==typeof self.options.callback&&self.options.callback.call(this)},onStateChange:function(e){1===e.data?self.$node.addClass("loaded"):0===e.data&&self.options.repeat&&self.player.seekTo(self.options.start)}},self.options=$.extend(!0,{},self.defaults,self.userOptions),self.options.height=Math.ceil(self.options.width/self.options.ratio),self.ID=(new Date).getTime(),self.holderID="YTPlayer-ID-"+self.ID,self.options.fitToBackground?self.createBackgroundVideo():self.createContainerVideo(),self.$window.on("resize.YTplayer"+self.ID,function(){self.resize(self)}),callback=self.onYouTubeIframeAPIReady.bind(self),tag=document.createElement("script"),head=document.getElementsByTagName("head")[0],tag.src="//www.youtube.com/iframe_api",head.appendChild(tag),tag=head=null,iframeIsReady(callback),self.resize(self),self},pauseOnScroll:function(){var self=this;self.$window.on("scroll.YTplayer"+self.ID,function(){1===self.player.getPlayerState()&&self.player.pauseVideo()}),self.$window.scrollStopped(function(){2===self.player.getPlayerState()&&self.player.playVideo()})},createContainerVideo:function(){var $YTPlayerString=$('<div id="ytplayer-container'+this.ID+'" >                                    <div id="'+this.holderID+'" class="ytplayer-player"></div>                                     </div>                                     <div id="ytplayer-shield"></div>');this.$node.append($YTPlayerString),this.$YTPlayerString=$YTPlayerString,$YTPlayerString=null},createBackgroundVideo:function(){var $YTPlayerString=$('<div id="ytplayer-container'+this.ID+'" class="ytplayer-container background">                                    <div id="'+this.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield"></div>');this.$node.find("img").fadeOut(),this.$node.append($YTPlayerString),this.$YTPlayerString=$YTPlayerString,$YTPlayerString=null},resize:function(self){var container=$(window);self.options.fitToBackground||(container=self.$node);var pWidth,pHeight,width=container.width(),height=container.height(),$YTPlayerPlayer=$("#"+self.holderID);width/self.options.ratio<height?(pWidth=Math.ceil(height*self.options.ratio),$YTPlayerPlayer.width(pWidth).height(height).css({left:(width-pWidth)/2,top:0})):(pHeight=Math.ceil(width/self.options.ratio),$YTPlayerPlayer.width(width).height(pHeight).css({left:0,top:0})),container=$YTPlayerPlayer=null},onYouTubeIframeAPIReady:function(){this.player=new window.YT.Player(this.holderID,this.options)},onPlayerReady:function(e){this.options.mute&&e.target.mute(),e.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){this.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),this.$YTPlayerString.remove(),$(window).off("resize.YTplayer"+this.ID),$(window).off("scroll.YTplayer"+this.ID),this.$body=null,this.$node=null,this.$YTPlayerString=null,this.player.destroy(),this.player=null}};$.fn.scrollStopped=function(callback){var $this=$(this),self=this;$this.scroll(function(){$this.data("scrollTimeout")&&clearTimeout($this.data("scrollTimeout")),$this.data("scrollTimeout",setTimeout(callback,250,self))})},$.fn.YTPlayer=function(options){return this.each(function(){$(this).data("yt-init",!0);var player=Object.create(YTPlayer);player.init(this,options),$.data(this,"ytPlayer",player)})}}(jQuery,window,document);